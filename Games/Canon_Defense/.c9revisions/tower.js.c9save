{"ts":1347280946159,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1347280947258,"patch":[[{"diffs":[[1,"\nfunction Tower(x, y, w, h, fill) {\n  // This is a very simple and unsafe constructor. \n  // All we're doing is checking if the values exist.\n  // \"x || 0\" just means \"if there is a value for x, use that. Otherwise use 0.\"\n  this.x = x || 0;\n  this.y = y || 0;\n  this.w = w || 1;\n  this.h = h || 1;\n  this.fill = fill || '#AAAAAA';\n}\nTower.prototype.getRotate = function(mouse){\n    //Math.atan(2);\n    //tg = a/b\n    var a = mouse.x - this.x;\n   var b = mouse.y - this.y;\n   var tg = a/b;\n   var atan1 = Math.atan(tg);\n   console.log('mouse tg', tg);\n   var atan = -Math.PI*2-atan1;\n   return atan;\n}\nTower.prototype.draw = function(ctx, mouse){\n    ctx.save();\n    \n    ctx.fillStyle = this.fill;\n    context.beginPath();\n    context.arc( this.x, this.y, 10, 0, Math.PI * 2, true );\n    context.closePath();\n    context.fill();\n    if(typeof mouse !== \"undefined\"){\n           //Math.atan(2);\n           //tg = a/b\n           var atan = this.getRotate(mouse);\n           ctx.translate(this.x, this.y);\n           ctx.rotate(atan);\n           ctx.fillRect(0-this.w/2, 0-this.h, this.w, this.h);\n           \n    }\n    //ctx.fillStyle = '#AA00AA';\n    //ctx.fillRect(this.x - this.w /2, this.y - this.h, this.w, this.h);\n        \n    ctx.restore();\n}"]],"start1":0,"start2":0,"length1":0,"length2":1249}]],"length":1249,"saved":false}
{"ts":1347281457920,"patch":[[{"diffs":[[0,"urn atan;\n}\n"],[1,"Tower.prototype.getDiffs = function(){\n    var a = mouse.x - this.x;\n   var b = mouse.y - this.y;\n   var c = Math.sqrt(a * a + b * b);\n   var dx = a/c;\n   var dy = b/c;\n   return {dx: dx, dy: dy };\n}\n"],[0,"Tower.protot"]],"start1":590,"start2":590,"length1":24,"length2":224}]],"length":1449,"saved":false}
{"ts":1347281481138,"patch":[[{"diffs":[[0,"unction("],[1,"mouse"],[0,"){\n    v"]],"start1":630,"start2":630,"length1":16,"length2":21}]],"length":1454,"saved":false}
