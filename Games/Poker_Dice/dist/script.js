window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(f){window.setTimeout(f,1E3/60)}}();
(function(){function f(a,c,b){if(typeof a=="string")a=document.getElementById(a);if(c!=undefined)a=a.getElementsByTagName(c);if(b!=undefined)a=a[b];return a}function l(){this.value=this.angle=this.y=this.x=0}function p(a,c){this.name=a;this.score=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];if(c){this.log=c;this.ai=true}else{this.log=[];this.ai=false}this.stat=JSON.parse(sessionStorage.getItem("stat"))||{played:0,wins:0,best:0,poker:0}}function h(){var a=localStorage.getItem("AI");if(a)h.ai=JSON.parse(a);
this.index=Math.floor(Math.random()*h.ai.length);this.active=this.rolls=this.round=0;this.holder=[];this.players=[new p("Player"),new p("Computer",h.ai[this.index])];this.dices=[new l,new l,new l,new l,new l];this.log=[]}function k(a){var c=window.devicePixelRatio||1;this.ctx=a.getContext("2d");this.width=a.clientWidth*c;this.height=a.clientHeight*c;this.scale=this.width/60;this.canvas=a;a.width=this.width;a.height=this.height;this.ctx.scale(this.scale,this.scale)}function j(a){var c=window.devicePixelRatio||
1;this.canvas=a;a.width=document.body.clientWidth*c;a.height=document.body.clientHeight*c;this.ctx=a.getContext("2d");this.colors=["#ff0000","#00ffff","#ffff00","#ff00ff","#ffffff"];this.data=[];for(var b=0;b<a.width/20/c;b++)this.data.push([Math.random()*a.width,Math.random()*a.height,Math.random()*5+5,Math.floor(Math.random()*this.colors.length)]);this.data.sort(function(e,d){return e[2]<d[2]?-1:e[2]>d[2]?1:0})}function m(){this.mute=false;this.elements=[];if(!navigator.platform.match(/^(iPad|iPod|iPhone)$/)){var a=
0.7;try{for(var c=0;c<5;c++){var b=new Audio;b.src=m.src;b.volume=a;b.load();this.elements.push(b);a-=0.15}}catch(e){}}}function q(){this.step=-1;this.steps=[f("help1"),f("help2"),f("help3")];this.set(0)}function n(){this.help=new q;this.logic=new h;this.sound=new m;if(this.sound.enabled()){f("logo").onclick=function(){if(this.className==""){a.sound.mute=false;this.className="sound"}else{a.sound.mute=true;this.className=""}};f("logo").className="sound"}this.flakes=new j(f("flakes"),50);this.flakes.hide();
this.players=[f("player"),f("computer")];this.dices=[];var a=this;f.each(f("dices","canvas"),function(d){a.dices.push(new k(this));this.onclick=function(){a.logic.hold(d);a.paint(true);this.className+=" top";this.blur();a.sound.click();return false}});f.each(f("player","dd"),function(d){this.onclick=function(){this.className=="set"&&a.logic.set(d)&&a.play();this.blur();a.help.set(4)}});f("flakes").onclick=function(){f("popup").className="hide";a.flakes.hide();a.flakes.stop();a.logic=new h;a.roll(function(){a.logic.roll();
a.paint(true)})};f("roll").onclick=function(){if(this.className=="button"&&a.logic.roll()){a.roll(function(){a.paint(true)});a.help.set(a.logic.rolls<3?1:2)}this.blur();return false};for(var c=f("back").getContext("2d"),b=c.getImageData(0,0,c.canvas.width,c.canvas.height),e=b.data.length-1;e>=0;e-=4)b.data[e]=Math.floor(Math.random()*15);c.putImageData(b,0,0);for(c=0;c<6;c++)for(b=1;b<=6;b++)this.dices[c%5].paint(b,c)}f.each=function(a,c){for(var b=0;b<a.length;b++)c.call(a[b],b,a[b])};l.prototype.roll=
function(){this.value=Math.floor(Math.random()*6)+1};p.prototype.total=function(){var a=0,c;for(c in this.score)if(this.score[c]>0)a+=this.score[c];return a};p.prototype.play=function(a){if(this.log.length>0){var c=this.log[0].shift(),b=this.log[0].shift();this.log[0].length==0&&this.log.shift();a.call(this,c,b)}};p.prototype.save=function(a){this.stat.played++;a&&this.stat.wins++;a=this.total();if(a>this.stat.best)this.stat.best=a;this.score[11]>0&&this.stat.poker++;sessionStorage.setItem("stat",
JSON.stringify(this.stat))};h.ai=[[[[6,5,3,2,2],[0],[6,4,4,2,3],[3,4,1],[5,4,1,2,3],10],[[1,5,2,5,4],[3,1],[3,5,6,5,3],[3,1],[6,5,1,5,3],12],[[6,6,1,2,1],[1,0],[6,6,1,6,4],[1,0,3],[6,6,3,6,4],6],[[4,2,1,6,5],[3],[3,4,3,6,2],[4,2,1],[5,4,3,5,2],9],[[4,3,1,6,6],[3,4],[1,3,1,6,6],[3,4],[3,4,2,6,6],1],[[3,4,5,6,5],[2,4],[3,5,5,2,5],[2,4,1],[3,5,5,1,5],4],[[1,1,4,6,5],[3],[2,2,2,6,1],[3],[3,3,3,6,1],2],[[6,3,6,5,3],[0,2],[6,4,6,3,4],[0,2,4,1],[6,4,6,6,4],8],[[2,3,3,3,2],[3,2,1],[6,3,3,3,1],[3,2,1],[5,
3,3,3,4],0],[[3,3,6,5,2],[2],[1,4,6,5,3],[2],[6,1,6,5,5],5],[[3,4,1,1,6],[1],[6,4,1,2,6],[1],[3,4,3,6,3],11],[[5,1,5,3,2],[0,2],[5,2,5,3,1],[0,2],[5,1,5,3,6],7],[[2,5,3,6,6],[],[3,5,5,1,6],[],[5,6,2,5,6],3]],[[[2,1,1,1,3],[1,3,2],[2,1,1,1,5],[1,3,2],[3,1,1,1,6],0],[[6,4,1,6,5],[0,3],[6,2,5,6,6],[0,3,4],[6,5,2,6,6],6],[[1,4,6,6,4],[3,2,1,4],[3,4,6,6,4],[3,2,1,4],[1,4,6,6,4],12],[[5,5,1,6,3],[1,0],[5,5,4,2,4],[1,0,2,4],[5,5,4,5,4],8],[[6,6,5,3,1],[1,0],[6,6,2,6,4],[1,0,3],[6,6,2,6,2],5],[[5,4,1,2,3],
10],[[2,4,4,3,2],[0,3,2],[2,6,4,3,1],9],[[4,1,4,3,6],[0,2],[4,2,4,1,5],[0,2],[4,3,4,3,5],2],[[2,1,3,5,1],[3],[3,5,2,5,5],[3,1,4],[6,5,6,5,5],4],[[5,3,3,6,4],[4],[1,4,6,2,4],[4,1],[1,4,6,2,4],3],[[2,3,6,4,6],[2,4],[1,2,6,1,6],[2,4],[1,4,6,3,6],1],[[1,6,2,3,3],[3,4],[2,4,5,3,3],[3,4],[1,4,5,3,3],11],[[2,5,3,3,4],[2,3],[2,2,3,3,1],[2,3],[1,6,3,3,2],7]],[[[4,6,2,6,6],[1,4,3],[2,6,6,6,6],[1,4,3,2],[3,6,6,6,6],7],[[3,5,6,2,1],[2,1],[5,5,6,5,4],[2,1,0,3],[5,5,6,5,4],6],[[4,2,6,2,6],[4,2],[4,5,6,2,6],[4,
2],[4,5,6,3,6],9],[[3,1,4,2,5],10],[[1,3,3,5,6],[2,1],[5,3,3,2,1],[2,1],[2,3,3,5,4],3],[[4,1,3,5,3],[2,4],[5,1,3,6,3],[2,4],[1,2,3,1,3],0],[[5,1,4,6,2],[3],[6,3,3,6,5],[3,0],[6,5,2,6,5],4],[[3,4,1,5,3],[4,0],[3,6,6,4,3],[1,2],[2,6,6,1,1],1],[[5,5,1,4,6],[1,0,4],[5,5,4,5,6],[1,0,4,3],[5,5,4,5,6],12],[[2,6,6,4,1],[2,1],[5,6,6,3,2],[2,1],[3,6,6,1,6],5],[[1,6,4,3,2],[3],[5,6,3,3,1],[3,2],[1,2,3,3,3],2],[[1,4,3,5,3],[4,2],[3,1,3,2,3],[4,2,0],[3,1,3,5,3],11],[[6,1,3,2,3],[0],[6,1,5,4,3],[0,2],[6,1,5,3,
6],8]],[[[3,3,1,6,5],[1,0],[3,3,3,6,2],[1,0,2],[3,3,3,2,4],2],[[1,2,4,6,4],[2,4],[4,1,4,1,4],[2,4,0],[4,1,4,5,4],3],[[1,4,3,5,6],[2,1,3,4],[2,4,3,5,6],10],[[2,6,4,1,1],[4,3],[6,6,6,1,1],[2,0,1],[6,6,6,3,5],6],[[5,4,2,1,6],[4,0],[5,5,1,5,6],[4,0,1,3],[5,5,3,5,6],4],[[5,6,6,3,5],[2,1,0,4],[5,6,6,5,5],8],[[3,4,6,1,2],9],[[5,6,4,3,1],[1],[1,6,1,2,5],[1],[5,6,3,4,1],0],[[1,2,4,5,4],[4,2],[2,1,4,1,4],[4,2],[2,3,4,4,4],1],[[5,3,5,3,2],[2,0],[5,4,5,1,6],[2,0],[5,3,5,2,3],12],[[1,4,6,6,1],[3,2],[3,1,6,6,6],
[3,2,4],[1,2,6,6,6],5],[[6,5,1,4,3],[0],[6,2,4,2,6],[0,4],[6,3,1,1,6],11],[[6,4,1,4,5],[1,3],[1,4,3,4,1],[1,3],[6,4,2,4,5],7]],[[[6,1,1,2,4],[0],[6,3,2,3,1],[1,3],[1,3,5,3,5],0],[[3,4,5,1,1],[0,1,2],[3,4,5,4,2],[0,1,2,4],[3,4,5,3,2],9],[[5,1,3,4,2],10],[[1,4,4,3,2],[1,2],[6,4,4,2,5],[1,2],[5,4,4,5,5],8],[[2,5,1,4,1],[1],[1,5,2,1,2],[2,4],[6,4,2,3,2],1],[[4,1,6,4,1],[0,3],[4,1,1,4,3],[0,3],[4,1,4,4,3],3],[[1,6,4,4,4],[1,2,3,4],[6,6,4,4,4],[1,4,2,0],[6,6,4,6,4],6],[[2,1,2,4,6],[4],[3,2,3,5,6],[2,0],
[3,1,3,4,1],2],[[5,3,6,4,6],[2,4],[5,1,6,3,6],[2,4],[1,3,6,5,6],5],[[2,6,1,2,4],[1],[4,6,2,3,3],[1],[2,6,4,4,2],12],[[1,5,4,3,1],[1],[4,5,2,6,6],[3,4],[6,2,4,6,6],7],[[2,6,4,5,6],[3],[4,6,3,5,4],[3],[5,4,6,5,3],4],[[4,5,1,3,4],[0,4],[4,3,4,6,4],[0,4,2],[4,2,4,2,4],11]],[[[1,3,4,3,5],[1,2,4],[5,3,4,4,5],[1,2,4],[3,3,4,5,5],2],[[2,3,2,1,4],[0,1,4,3],[2,3,1,1,4],[0,1,4,3],[2,3,1,1,4],9],[[5,2,5,2,5],[0,2,4],[5,4,5,2,5],[0,2,4],[5,6,5,1,5],6],[[3,2,5,5,3],[2,3],[1,4,5,5,1],[2,3],[4,3,5,5,1],0],[[4,2,
1,5,6],[4],[1,2,2,4,6],[4],[5,5,4,2,6],12],[[3,6,3,5,5],[4,3,1],[6,6,2,5,5],[4,3,1,0],[6,6,5,5,5],8],[[6,6,6,1,2],[0,2,1],[6,6,6,1,6],[0,2,1,4],[6,6,6,3,6],7],[[3,1,6,6,5],[2,3],[4,1,6,6,1],[2,3],[6,3,6,6,6],5],[[4,2,5,6,6],[2],[1,2,5,2,1],[1,3],[5,2,1,2,2],1],[[1,4,2,5,6],[1,3,4],[1,4,6,5,6],[1,3],[6,4,5,5,4],3],[[2,1,1,3,4],[2,3,0,4],[2,1,1,3,4],[2,3,0,4],[2,3,1,3,4],10],[[2,5,5,1,4],[2,1],[4,5,5,3,6],[2,1],[5,5,5,5,1],4],[[4,4,6,3,2],[1,0],[4,4,4,4,3],[1,0,3,2],[4,4,4,4,3],11]],[[[3,4,4,3,3],8],
[[4,6,1,6,4],[3,1],[1,6,4,6,4],[3,1],[1,6,6,6,4],6],[[1,2,3,3,3],[2,4,3],[5,3,3,3,3],[2,4,3,1],[2,3,3,3,3],2],[[6,4,3,4,6],[4,0],[6,3,6,2,6],[4,0,2],[6,3,6,2,6],5],[[1,5,3,2,5],[1,4],[1,5,6,5,5],[1,4,3],[1,5,2,5,5],4],[[6,2,4,6,6],[4,0,3],[6,4,5,6,6],[4,0,3],[6,1,3,6,6],12],[[3,2,5,3,6],[4],[2,3,4,1,6],[3,0,1,2],[2,3,4,1,6],9],[[2,5,4,5,1],[1,3],[6,5,4,5,6],[1,3],[1,5,3,5,3],0],[[5,6,2,3,6],[1,4],[4,6,2,5,6],[1,4],[1,6,1,4,6],3],[[6,2,6,1,1],[2,0],[6,3,6,1,4],[2,0],[6,5,6,5,2],1],[[6,4,3,5,2],10],
[[4,5,5,2,6],[2,1],[4,5,5,3,3],[2,1],[3,5,5,3,2],11],[[6,2,4,5,3],[0],[6,3,3,5,4],[1,2],[6,3,3,6,2],7]],[[[6,1,2,3,1],[4,1],[5,1,1,2,1],[4,1,2],[1,1,1,2,1],0],[[3,4,1,5,4],[1,4],[5,4,2,2,4],[1,4],[5,4,3,4,4],3],[[5,3,1,5,2],[3,0],[5,1,3,5,6],[3,0],[5,6,1,5,3],4],[[1,1,1,2,5],[4],[5,5,2,6,5],[4,1,0,3],[5,5,5,6,5],7],[[1,6,1,2,4],[1],[1,6,3,3,4],[3,2],[1,4,3,3,3],2],[[4,3,4,2,5],[3,1,0,4],[4,3,2,2,5],[3,1,0,4],[4,3,3,2,5],9],[[4,1,3,6,3],[3],[4,6,5,6,5],[3,1],[1,6,4,6,4],5],[[6,6,4,1,6],[4,1,0],[6,
6,1,6,6],[4,1,0,3],[6,6,4,6,6],6],[[6,3,4,3,4],[4,3,1,2],[6,3,4,3,4],[4,3,1,2],[6,3,4,3,4],12],[[1,5,4,2,1],[4,3,2,1],[1,5,4,2,1],[4,3,2,1],[1,5,4,2,1],1],[[3,4,2,6,6],[2,0,1,4],[3,4,2,5,6],10],[[2,1,6,4,1],[1,4],[6,1,5,4,1],[1,4],[3,1,4,2,1],11],[[5,3,1,4,2],[],[3,6,6,4,5],[2,1],[6,6,6,4,3],8]],[[[4,2,2,3,1],[4,2,3,0],[4,4,2,3,1],[4,2,3,0],[4,4,2,3,1],9],[[5,1,5,6,6],[4,3,0,2],[5,1,5,6,6],[4,3,0,2],[5,2,5,6,6],5],[[5,3,1,3,2],[3,1],[5,3,1,3,2],[3,1],[1,3,6,3,4],2],[[5,6,6,3,3],[1,2,3,4],[6,6,6,3,
3],8],[[2,3,4,4,1],[2,3],[3,4,4,4,3],[2,3,1],[3,4,4,4,5],3],[[3,5,5,2,6],[2,1],[1,5,5,2,2],[2,1],[5,5,5,6,4],6],[[1,4,4,3,5],[4],[5,5,6,6,5],12],[[5,5,3,1,6],[1,0],[5,5,2,2,6],[1,0],[5,5,3,6,6],4],[[6,1,2,5,2],[4,2],[2,5,2,1,2],[4,2,0],[2,2,2,3,2],1],[[4,4,4,3,5],[0,2,1],[4,4,4,1,2],[0,2,1],[4,4,4,6,2],0],[[5,5,6,4,4],[0,1],[5,5,2,4,6],[0,1],[5,5,1,5,6],11],[[4,5,3,2,6],10],[[1,1,3,2,1],[],[1,3,1,1,5],[],[3,5,6,6,4],7]],[[[6,3,2,1,4],[3,2,1,4],[4,3,2,1,4],[3,2,1,4],[5,3,2,1,4],10],[[2,2,1,5,1],[0,
1],[2,2,3,5,6],[0,1],[2,2,3,6,4],1],[[3,3,3,4,4],8],[[4,5,1,5,1],[3,1],[3,5,2,5,5],[3,1,4],[1,5,1,5,5],4],[[4,2,5,6,2],[3],[1,6,5,6,4],[3,1],[1,6,3,6,1],0],[[1,6,3,3,6],[1,4],[2,6,1,2,6],[1,4],[1,6,6,1,6],5],[[2,4,3,2,5],9],[[5,3,3,1,1],[2,1],[4,3,3,2,6],[2,1],[3,3,3,5,4],2],[[4,2,3,1,5],[4],[4,5,5,3,5],[4,1,2],[5,5,5,6,5],7],[[2,1,5,4,1],[3],[2,2,6,4,5],[3],[6,4,1,4,1],3],[[3,1,4,6,1],[3],[2,1,3,6,1],[3],[1,6,4,6,1],11],[[2,5,1,3,2],[1],[4,5,6,6,4],[2,3],[1,1,6,6,5],12],[[4,1,6,5,3],[2],[5,1,6,4,
1],[2],[6,4,6,4,3],6]],[[[2,2,6,6,4],[2,3],[3,1,6,6,5],[2,3],[4,5,6,6,5],12],[[6,4,5,2,2],[0],[6,2,3,2,2],[0],[6,1,1,1,2],0],[[1,2,1,2,2],8],[[1,3,3,3,5],[2,3,1],[1,3,3,3,4],[2,3,1],[6,3,3,3,4],2],[[1,6,3,6,3],[1,3],[1,6,4,6,3],[1,3],[5,6,5,6,5],6],[[1,3,6,2,2],[4,3],[6,6,1,2,2],[1,0],[6,6,5,5,1],4],[[4,3,5,3,1],[3,0,2],[4,2,5,3,6],10],[[3,5,1,3,2],[2,4,3],[3,4,1,3,2],9],[[6,4,3,3,6],[4,0],[6,2,5,6,6],[4,0,3],[6,4,3,6,6],5],[[4,5,3,3,5],[1,4],[2,5,1,3,5],[1,4],[3,5,6,6,5],1],[[4,5,4,2,5],[2,0],[4,
4,4,1,5],[2,0,1],[4,4,4,6,1],3],[[1,1,6,3,3],[4,3],[2,5,2,3,3],[4,3],[6,4,4,3,3],11],[[3,3,3,1,1],[1,0,2],[3,3,3,6,1],[1,0,2],[3,3,3,1,1],7]],[[[3,6,4,4,2],[4,0,3],[3,3,2,4,2],[4,0,3],[3,2,2,4,2],1],[[5,3,3,2,1],[2,1],[1,3,3,6,2],[2,1],[1,3,3,1,1],0],[[6,3,1,5,5],[3,4],[3,2,4,5,5],[4,2,1,0],[3,2,4,3,5],9],[[6,2,6,4,5],[0,2],[6,6,6,4,2],[0,2,1],[6,6,6,6,1],7],[[4,3,6,2,6],[4,2],[5,1,6,1,6],[4,2],[6,3,6,1,6],6],[[4,4,1,4,6],[0,1,3,4],[4,4,2,4,6],[0,1,3,4],[4,4,6,4,6],8],[[6,5,4,4,5],[4,1],[5,5,1,2,
5],[4,1,0],[5,5,2,5,5],4],[[1,1,6,4,2],[2],[1,4,6,2,3],[0,3,4,1],[1,4,2,2,3],2],[[2,1,5,6,6],[3,4],[6,2,1,6,6],[3,4,0],[6,5,6,6,6],5],[[4,5,4,6,3],[4,0,1,3],[4,5,3,6,3],[4,0,1,3],[4,5,4,6,3],3],[[4,1,3,1,1],[4,3,1],[2,1,2,1,1],[4,3,1],[6,1,1,1,1],11],[[3,4,5,3,3],[4,1,2],[2,4,5,3,3],[4,1,2,0],[2,4,5,4,3],12],[[3,1,4,1,3],[4,2],[1,6,4,1,3],[4,2],[1,2,4,5,3],10]],[[[5,2,5,6,2],[0,2],[5,1,5,3,5],[0,2,4],[5,5,5,1,5],7],[[5,5,4,6,3],[0,1],[5,5,1,4,1],[0,1],[5,5,4,2,4],3],[[2,1,1,3,1],[2,4,1],[2,1,1,6,
1],[2,4,1],[5,1,1,1,1],0],[[1,3,1,1,4],[0,2,3],[1,4,1,1,1],[0,2,3,4],[1,1,1,1,1],11],[[6,4,5,2,2],[2,0],[6,6,5,4,2],[2,0,1],[6,6,5,2,5],12],[[4,2,1,1,2],[0],[4,6,5,6,2],[3,1],[5,6,6,6,3],6],[[2,4,5,4,4],[4,3,1],[3,4,3,4,4],[4,3,1],[3,4,4,4,4],2],[[1,4,4,1,6],[4],[6,3,6,3,6],8],[[2,4,5,3,2],[0,3,1,2],[2,4,5,3,5],[0,3,1,2],[2,4,5,3,5],9],[[2,4,3,3,2],[2,1,0],[2,4,3,1,3],[2,1,0,3],[2,4,3,1,3],1],[[2,6,5,1,2],[2],[4,5,5,3,2],[2,4,3,0],[4,5,5,3,2],4],[[2,1,2,3,5],[2,3],[2,5,2,3,3],[2,3,1],[4,5,2,3,2],
10],[[4,1,1,2,3],[],[6,1,4,2,5],[0],[6,1,4,6,5],5]],[[[6,6,2,3,3],[1,0],[6,6,6,6,1],[1,0,3,2],[6,6,6,6,2],7],[[6,4,4,6,6],[0,4,3],[6,2,4,6,6],[0,4,3],[6,1,6,6,6],6],[[6,2,2,2,3],[1,3,2],[1,2,2,2,2],[1,3,2,4],[4,2,2,2,2],1],[[1,2,3,2,6],[4],[3,5,4,3,6],[4],[4,1,4,1,6],0],[[5,6,1,3,6],[4,1],[2,6,1,5,6],[4,1],[6,6,1,5,6],5],[[3,1,4,3,5],[0,2,4],[3,5,4,1,5],[0,2,4],[3,5,4,2,5],9],[[2,1,3,2,1],[4,1,3,0],[2,1,4,2,1],[4,1,3,0],[2,1,4,2,1],3],[[2,1,6,4,3],[4],[5,6,3,4,3],[4,2],[1,6,3,6,3],2],[[6,3,4,2,6],
[0,2,1,3],[6,3,4,2,1],[0,2,1,3],[6,3,4,2,3],12],[[4,3,3,3,6],[1,2,3],[1,3,3,3,1],8],[[5,4,1,3,3],[0],[5,5,6,4,2],[0,1],[5,5,4,4,3],4],[[1,1,1,6,3],[1,2,0],[1,1,1,5,2],[1,2,0],[1,1,1,6,4],11],[[5,6,4,4,4],[0,3,1],[5,6,2,4,3],10]],[[[1,1,1,4,3],[2,0,1],[1,1,1,2,3],[2,0,1],[1,1,1,4,3],0],[[4,4,3,5,4],[1,0,4],[4,4,5,5,4],8],[[1,1,1,6,3],[3],[3,2,6,6,6],[3,4,2],[3,1,6,6,6],6],[[3,1,4,1,2],[3,4,0,2],[3,3,4,1,2],[3,4,0,2],[3,4,4,1,2],9],[[2,6,5,4,4],[3,4],[2,6,5,4,4],[3,4],[6,1,6,4,4],3],[[5,4,5,1,3],[2,
0],[5,3,5,4,1],[2,0],[5,3,5,5,5],7],[[3,5,3,6,5],[4,1],[6,5,3,4,5],[4,1],[1,5,3,1,5],4],[[6,6,3,5,6],[0,4,1],[6,6,5,1,6],[0,4,1],[6,6,2,5,6],5],[[3,4,5,2,5],[3,0,1,4],[3,4,4,2,5],[3,0,1,4],[3,4,1,2,5],10],[[6,5,3,5,1],[3,1,0],[6,5,4,5,3],[3,1,0],[6,5,1,5,2],1],[[5,3,4,5,3],[1,4],[4,3,3,2,3],[1,4,2],[1,3,3,3,3],2],[[5,3,4,2,1],[0],[5,4,5,6,1],[0,3,2],[5,2,5,6,5],12],[[6,4,2,5,6],[4,0],[6,5,3,3,6],[4,0],[6,3,5,4,6],11]],[[[1,2,2,6,2],[4,1,2],[4,2,2,3,2],[4,1,2],[5,2,2,2,2],1],[[1,6,6,6,3],[2,3,1],[2,
6,6,6,6],[2,3,1,4],[2,6,6,6,6],7],[[2,2,2,6,5],[1,2,0],[2,2,2,2,5],[1,2,0,3],[2,2,2,2,3],0],[[5,6,5,4,3],[0,2,1],[5,6,5,4,2],[0,2,1],[5,6,5,1,2],4],[[3,6,1,1,4],[1],[5,6,4,4,3],[1,4,0,3],[5,6,4,4,3],9],[[2,5,2,5,3],[3,1],[4,5,5,5,5],[3,1,4,2],[4,5,5,5,5],6],[[1,3,3,5,3],[2,4,1],[2,3,3,2,3],8],[[4,5,3,5,1],[2,1,0],[4,5,3,6,5],[2,0,4,3],[4,6,3,6,5],12],[[2,2,2,3,1],[4,1,3],[5,2,4,3,1],10],[[1,4,5,5,5],[2,4,3],[6,4,5,5,5],[2,4,3],[2,5,5,5,5],2],[[6,2,2,5,6],[0,4],[6,1,2,3,6],[0,4],[6,6,3,4,6],5],[[3,
1,6,3,5],[3,0],[3,3,2,3,6],[3,0,1],[3,3,2,3,3],11],[[5,6,4,6,3],[2],[2,4,4,4,4],[2,3,4,1],[3,4,4,4,4],3]],[[[4,2,2,1,6],[1,2],[3,2,2,5,6],[1,2],[2,2,2,6,5],1],[[1,1,4,6,5],[3],[1,6,6,6,1],[3,1,2],[3,6,6,6,3],6],[[1,2,4,4,6],[4],[4,5,3,5,6],[4,2,3,0],[4,2,3,5,6],10],[[1,6,6,1,2],[2,1],[6,6,6,6,4],[2,1,3,0],[6,6,6,6,2],7],[[6,4,5,3,3],9],[[6,6,3,4,5],[0,1],[6,6,2,3,4],[0,1],[6,6,3,4,6],5],[[5,1,3,4,1],[1,4],[1,1,3,5,1],[1,4,0],[1,1,3,2,1],0],[[4,3,2,4,3],[1,4,0,3],[4,3,2,4,3],[1,4,0,3],[4,3,1,4,3],
2],[[1,5,4,1,5],[1,4],[1,5,5,1,5],8],[[1,5,5,4,4],[1,2],[3,5,5,2,2],[1,2],[3,5,5,4,4],4],[[5,4,2,2,4],[4,1],[3,4,2,6,4],[4,1],[6,4,3,1,4],3],[[1,1,5,5,5],[2,4,3],[1,5,5,5,5],[2,4,3,1],[6,5,5,5,5],12],[[5,3,3,2,6],[2,1],[2,3,3,1,4],[2,1],[4,3,3,6,3],11]],[[[1,4,4,6,1],[1,2],[5,4,4,5,4],8],[[6,6,6,6,1],[1,2,0,3],[6,6,6,6,4],[1,2,0,3],[6,6,6,6,3],7],[[6,4,2,1,5],[0],[6,3,4,1,4],[4,2],[6,3,4,4,4],3],[[1,2,2,2,5],[1,3,2],[4,2,2,2,2],[1,3,2,4],[3,2,2,2,2],1],[[4,3,3,6,3],[4,2,1],[1,3,3,5,3],[4,2,1],[6,
3,3,1,3],2],[[1,6,5,3,3],[1],[2,6,1,6,3],[1,3],[6,6,2,6,4],6],[[1,3,2,2,6],[4],[6,2,3,2,6],[4,0],[6,2,4,3,6],5],[[5,4,5,5,5],[0,3,2,4],[5,1,5,5,5],[0,3,2,4],[5,2,5,5,5],4],[[3,4,5,6,6],[0,1,2,4],[3,4,5,1,6],[0,1,2,4],[3,4,5,4,6],9],[[4,6,2,2,4],[2,4,1],[5,6,2,2,4],[2,4,1,0],[5,6,2,2,4],12],[[3,3,4,2,5],[3,0,2,4],[3,1,4,2,5],10],[[2,4,6,4,4],[3,1,4],[3,4,1,4,4],[3,1,4],[1,4,3,4,4],0],[[3,5,1,6,6],[4,3],[1,6,3,6,6],[4,3,1],[5,6,4,6,6],11]],[[[6,1,2,6,6],[4,0,3],[6,6,2,6,6],[4,0,3,1],[6,6,1,6,6],7],
[[2,4,4,3,4],[1,2,4],[1,4,4,2,4],[1,2,4],[3,4,4,6,4],3],[[3,6,2,2,2],[2,4,3],[6,1,2,2,2],[2,4,3],[3,5,2,2,2],1],[[5,6,3,2,3],[2,4],[1,3,3,3,3],[2,4,3,1],[4,3,3,3,3],2],[[5,4,6,4,3],[4,3,0,2],[5,1,6,4,3],[4,3,0,2],[5,4,6,4,3],9],[[6,5,6,2,3],[2,0],[6,2,6,4,1],[2,0],[6,2,6,6,6],6],[[5,6,2,6,4],[1,3],[2,6,5,6,4],[1,3],[6,6,4,6,2],5],[[4,6,5,5,2],[4,0,3,1],[4,6,3,5,2],10],[[3,2,5,3,4],[2,3,0],[3,6,5,3,1],[2],[6,5,5,5,5],4],[[3,6,6,1,1],[2,1,4,3],[3,6,6,1,1],[2,1],[1,6,6,1,1],8],[[3,5,5,6,4],[1,2,3],[5,
5,5,6,2],[1,2,3,0],[5,5,5,6,1],0],[[4,5,1,1,5],[1,4],[3,5,3,3,5],[0,2,3],[3,6,3,3,2],11],[[4,3,6,3,5],[4,2],[4,1,6,1,5],[4,2],[2,1,6,2,5],12]],[[[2,6,5,2,2],[3,4,0],[2,4,6,2,2],[3,4,0],[2,3,4,2,2],1],[[2,3,4,1,5],10],[[3,4,3,4,2],[0,2,3,1],[3,4,3,4,6],[0,2,3,1],[3,4,3,4,5],2],[[6,6,5,6,3],[0,3,1],[6,6,3,6,5],[0,3,1],[6,6,1,6,2],5],[[5,4,5,5,5],[3,0,4,2],[5,2,5,5,5],[3,0,4,2],[5,2,5,5,5],4],[[3,6,3,1,5],[1],[6,6,6,3,4],[1,0,2],[6,6,6,1,6],7],[[6,5,3,1,3],[0],[6,2,1,1,1],[3,4,2],[5,4,1,1,1],0],[[3,
6,4,2,6],[4,1],[2,6,6,5,6],[4,1,2,3],[5,6,6,5,6],6],[[1,4,5,5,1],[3,2,0,4],[1,5,5,5,1],8],[[6,1,3,2,3],[2,3],[3,4,3,2,4],[1,4],[6,4,1,2,4],3],[[6,3,5,2,6],[4,0,2],[6,1,5,3,6],[4,0,2],[6,2,5,4,6],12],[[5,4,3,4,6],9],[[4,5,4,1,6],[2,0],[4,3,4,5,3],[2,0],[4,1,4,4,6],11]],[[[2,5,6,6,5],[3,2],[6,1,6,6,3],[3,2,0],[6,5,6,6,2],6],[[4,2,5,6,2],[1,4],[2,2,2,2,2],11],[[5,2,6,6,1],[3,2],[1,6,6,6,1],[3,2,1],[4,6,6,6,5],5],[[2,1,3,1,2],[0,4],[2,6,3,5,2],[0,4],[2,2,5,1,2],1],[[4,1,1,2,3],[2,3,4,0],[4,4,1,2,3],[2,
3,4,0],[4,4,1,2,3],9],[[1,6,3,1,4],[1],[1,6,4,6,2],[1,3],[1,6,2,6,3],0],[[6,6,4,4,4],8],[[4,6,5,3,2],10],[[4,3,5,2,5],[4,2],[6,2,5,2,5],[4,2],[3,6,5,1,5],4],[[6,4,4,5,1],[0],[6,4,2,4,2],[1,3],[4,4,1,4,5],3],[[1,3,3,1,1],[1,2],[4,3,3,2,5],[1,2],[6,3,3,5,6],2],[[6,2,6,4,4],[2,0],[6,5,6,2,6],[2,0,4],[6,1,6,1,6],12],[[2,3,1,1,4],[],[4,5,1,6,6],[4,3],[2,5,4,6,6],7]],[[[3,2,1,3,3],[0,4,3],[3,1,5,3,3],[0,4,3],[3,6,1,3,3],2],[[1,4,4,2,4],[1,4,2],[4,4,4,5,4],[1,4,2,0],[4,4,4,5,4],3],[[5,6,3,1,5],[0,4],[5,
6,2,5,5],[0,4,3],[5,1,3,5,5],4],[[2,5,6,2,5],[1,4,0,3],[2,5,2,2,5],8],[[6,5,6,2,2],[2,0],[6,6,6,4,6],[2,0,4,1],[6,6,6,5,6],7],[[4,4,2,6,5],[3],[2,6,6,6,5],[3,1,2,4],[3,6,6,6,5],6],[[5,6,4,4,2],[1],[4,6,6,2,2],[1,2],[4,6,6,2,1],0],[[2,6,5,4,6],[1,4],[4,6,2,6,6],[1,4,3],[3,6,3,6,6],5],[[5,6,3,3,1],[1,0],[5,6,2,3,5],[1,0,4],[5,6,6,2,5],12],[[6,6,5,4,2],[3,4,2],[5,5,5,4,2],[3,4,2],[3,4,5,4,2],9],[[5,1,5,3,6],[2,0],[5,1,5,5,5],[2,0,3,4],[5,5,5,5,5],11],[[6,2,5,4,2],[4,2,3,0],[6,5,5,4,2],[4,2,3,0],[6,2,
5,4,2],1],[[2,2,3,3,2],[4,2],[2,3,3,4,2],[4,2,3],[1,6,3,4,2],10]],[[[3,1,5,4,2],10],[[3,1,6,6,1],[2,3],[1,2,6,6,2],[2,3],[2,6,6,6,2],8],[[5,4,1,1,3],[3,2],[1,6,1,1,2],[3,2,0],[1,6,1,1,4],0],[[2,2,6,5,2],[1,0,4],[2,2,4,3,2],[1,0,4],[2,2,4,4,2],1],[[3,4,3,3,5],[2,0,3],[3,4,3,3,6],[2,0,3],[3,2,3,3,4],2],[[6,4,3,3,3],[0],[6,2,2,3,5],[0],[6,1,3,6,6],6],[[1,4,2,6,2],[3],[4,3,5,6,1],9],[[2,2,6,4,6],[2,4],[2,6,6,1,6],[2,4,1],[4,6,6,6,6],7],[[2,6,3,2,1],[1],[6,6,5,5,6],12],[[4,3,6,5,6],[4,2],[1,3,6,2,6],[4,
2],[5,4,6,4,6],5],[[5,4,2,5,6],[0,3],[5,3,6,5,3],[0,3],[5,5,5,5,5],11],[[1,5,1,2,4],[1],[6,5,4,6,3],[1],[3,5,4,2,3],3],[[2,3,3,4,4],[],[6,4,6,3,4],[],[2,3,3,5,4],4]],[[[2,1,1,1,3],[2,1,3],[1,1,1,1,4],[2,1,3,0],[1,1,1,1,4],0],[[6,6,6,5,2],[0,1,2],[6,6,6,6,6],11],[[1,5,4,2,2],[3,4],[3,3,6,2,2],[3,4,1,0],[3,3,1,2,2],1],[[1,2,2,6,6],[3,4],[3,6,3,6,6],[3,4,1],[6,6,6,6,6],7],[[1,3,2,5,6],[4],[5,6,3,6,6],[4,1,3,0],[5,6,4,6,6],6],[[4,6,1,1,1],[1],[6,6,5,4,1],[1,0],[6,6,2,5,4],5],[[1,2,3,4,1],[0,1,2,3],[1,
2,3,4,3],[0,1,2,3],[1,2,3,4,5],10],[[1,6,1,3,4],[1],[3,6,3,3,6],8],[[6,1,5,3,6],[0,4,2],[6,4,5,3,6],9],[[5,6,4,1,4],[2,4],[3,1,4,3,4],[3,0],[3,5,3,3,5],2],[[5,6,3,3,5],[4,0],[5,3,6,3,5],[4,0],[5,5,4,2,5],4],[[3,6,3,1,5],[1,4],[1,6,6,1,5],[1,4,2],[1,6,6,4,5],12],[[3,4,2,6,5],[1],[6,4,5,5,3],[1],[5,4,2,3,1],3]],[[[1,4,1,3,3],[4,3],[3,1,5,3,3],[4,3,0],[3,1,1,3,3],8],[[5,2,1,5,6],[3,0],[5,1,1,5,2],[3,0],[5,5,3,5,2],4],[[1,3,4,2,2],[0,4,1,2],[1,3,4,2,2],[0,4,1,2],[1,3,4,5,2],10],[[2,2,2,1,3],[0,1,2],[2,
2,2,4,4],[0,1,2],[2,2,2,2,5],1],[[3,1,4,6,5],9],[[1,3,1,2,5],[0,2],[1,3,1,1,2],[0,2,3],[1,3,1,1,5],0],[[6,5,4,5,6],[4,0],[6,3,1,3,6],[4,0],[6,5,4,2,6],12],[[3,6,2,6,5],[3,1],[1,6,5,6,5],[3,1],[6,6,5,6,5],6],[[3,5,6,6,5],[3,2],[1,6,6,6,2],[3,2,1],[6,6,6,6,6],11],[[2,4,4,1,1],[1,2],[6,4,4,2,2],[1,2],[4,4,4,3,2],3],[[6,5,4,6,4],[0,3],[6,6,6,6,2],[0,3,2,1],[6,6,6,6,6],7],[[3,1,6,1,5],[2],[2,3,6,6,6],[2,3,4],[4,4,6,6,6],5],[[4,2,4,2,2],[],[3,5,5,2,5],[0],[3,4,1,3,4],2]]];h.prototype.finished=function(){return this.round>=
13};h.prototype.winner=function(){for(var a=-1,c=-1,b=0;b<this.players.length;b++){var e=this.players[b].total();if(e>a){a=e;c=b}else if(e==a)c=-1}return c};h.prototype.player=function(){return this.players[this.active]};h.prototype.roll=function(a){var c=false;if(this.rolls<3){if(this.rolls==0)this.holder=[];c=[];var b=this.holder,e=[[],[],[],[],[]];f.each(this.dices,function(d,g){if(a)g.value=a[d];else b.indexOf(d)<0&&g.roll();g.angle=Math.floor(Math.random()*6);do{g.x=Math.floor(Math.random()*
4)+1;g.y=Math.floor(Math.random()*5)}while(e[g.x][g.y]);e[g.x][g.y]=true;c.push(g.value)});delete e;this.rolls++>0&&this.log.push([].concat(b));this.log.push([].concat(c))}return c};h.prototype.hold=function(a){var c=this.holder.indexOf(a);c<0?this.holder.push(a):this.holder.splice(c,1);return this.holder};h.prototype.score=function(){var a=0,c=[0,0,0,0,0,0,0],b=[0,0,0,0,0,0,0,0,0,0,0,0];f.each(this.dices,function(){var o=this.value-1;a+=this.value;c[o]++;b[o]+=this.value});var e=false,d=0;for(i in c){var g=
c[i];if(g!=0)d++;else d=0;if(g==2)e=true;if(g>=3)b[6]=a;if(g>=4)b[7]=a;if(b[6]&&e)b[8]=25;if(d>=4)b[9]=30;if(d>=5)b[10]=40;if(g>=5)b[11]=50}b[12]=a;return b};h.prototype.set=function(a){var c=this.player();if(c.score[a]==-1){var b=this.score();this.log.push(a);c.log.push([].concat(this.log));c.score[a]=b[a];this.next();return true}return false};h.prototype.next=function(){if(++this.active>=this.players.length){this.active=0;this.round++;var a=this.player();if(this.finished()&&a.total()>150){h.ai.splice(this.index,
1,a.log);localStorage.setItem("AI",JSON.stringify(h.ai))}}this.rolls=0;this.log=[]};h.prototype.play=function(a){var c=this;this.player().play(function(b,e){c.roll(b);a.call(this,e)})};k.cache={};k.prototype.dot=function(a,c){var b=this.ctx;b.beginPath();b.arc(a,c,4,0,2*Math.PI,false);b.fill()};k.prototype.dice=function(a,c,b,e){var d=this.ctx,g=navigator.appName=="Opera",o=d.createRadialGradient(-10,-10,0,-10,-10,60);o.addColorStop(0,"#cc0000");o.addColorStop(1,"#990000");d.save();d.translate(a,
c);d.rotate(Math.PI/12*b);d.beginPath();d.moveTo(-15,20);d.arcTo(g?15:20,20,20,15,5);d.lineTo(20,-15);d.arcTo(20,g?-15:-20,15,-20,5);d.lineTo(-15,-20);d.arcTo(g?-15:-20,-20,-20,-15,5);d.lineTo(-20,15);d.arcTo(-20,g?15:20,-15,20,5);if(e){d.fillStyle=o;d.fill();d.fillStyle="#ffffff";if(e==2||e==4||e==5||e==6)this.dot(-11,-11);if(e==3||e==4||e==5||e==6)this.dot(11,-11);e==6&&this.dot(-11,0);if(e==1||e==3||e==5)this.dot(0,0);e==6&&this.dot(11,0);if(e==3||e==4||e==5||e==6)this.dot(-11,11);if(e==2||e==
4||e==5||e==6)this.dot(11,11)}else{d.fillStyle="#990000";d.shadowBlur=5*this.scale;d.shadowColor="#000000";d.shadowOffsetX=0;d.shadowOffsetY=0;d.fill()}d.restore()};k.prototype.paint=function(a,c){var b="a"+c+"v"+a;if(k.cache[b])this.ctx.putImageData(k.cache[b],0,0);else{this.ctx.clearRect(0,0,60,60);this.dice(30,31,c);this.dice(30,28,c,a);k.cache[b]=this.ctx.getImageData(0,0,this.width,this.height)}};j.prototype.flake=function(a,c,b,e){var d=this.ctx;d.save();d.translate(a,c);d.beginPath();d.moveTo(0,
-b);d.lineTo(b,0);d.lineTo(0,b);d.lineTo(-b,0);d.moveTo(0,-b);d.fillStyle=e;d.fill();d.restore()};j.prototype.clear=function(){var a=this.ctx;a.clearRect(0,0,a.canvas.width,a.canvas.height)};j.prototype.paint=function(){this.clear();for(var a=0;a<this.data.length;a++){var c=this.data[a];this.flake(c[0],c[1],c[2],this.colors[c[3]]);var b=this.data[a][1]+c[2]/2;if(b>this.ctx.canvas.height)b=-c[2];this.data[a][1]=b}};j.prototype.start=function(){for(var a=0;a<this.data.length;a++)if(this.data[a][1]>
0)this.data[a][1]=-this.data[a][1];this.run=true;this.anim()};j.prototype.stop=function(){this.run=false;this.clear()};j.prototype.show=function(){this.canvas.style.display="block"};j.prototype.hide=function(){this.canvas.style.display="none"};j.prototype.anim=function(){if(this.run){var a=this;requestAnimFrame(function(){a.anim()});this.paint()}};m.src="data:audio/wav;base64,UklGRjgDAABXQVZFZm10IBAAAAABAAEAQB8AAIA+AAACABAAZGF0YRQDAACCAg75kTF9Rt3YuOBg6nWtgAxRKNjzEx1h9QHO5fME/KMUKCAx/xb0JPMU9f0ELAT0AZwMAwwaB5MIqAUt+fj0lglhIbwe0AvJ9nrmYfDnB1YQxAxxAPjxJfT9+XT4Mfo7+Lz1AvwSAGAAGwAb+qn2UPuE/6kCPARY/4/6yfmz+mMAAwnBCoIDh/zX+Gj7MAU0CroJewh4AMT3EPq8/zQCTwI0AcQCTwJ4/yD/GP/c/a/7+f0YAkz/k/s1/DP+zgBLAYoAdgB6APwBcwJNABcAKwC4ARUEvgJTAgsCGgPHBH4BmP6g/cf6y/oz/ioBXgMHAkj9Hvzl/2wB7v/p/nr78/kK/uj/Hf9+/l/9N/0s/af9BgDtAuECVgAb/m79lwAyAx4Bn/9yATECWQB2/2f/yv/fAOcBIQSMA60ArQFsANP9zQDaA/MCQQEaAIP/7P9e/8n9pf6WAKEBjwNRA4T8WPnx/8YCsgHZAin/uPvk/Rn/If9N/+gAjwEDAC7/2f6//yQAWwCeAW8AoP6e/uv+8v70/ssAxwHuAND/9/1//VL+MQGmA+kBvv5n/R7/1gH5AvUCGQJbAZH/J/3O//4CMAHc/s7/UwE1AnsCrQCk/zgAuABiAjECUQDFAA0AvABrAv0B9AHGAPX9hf0MAMcBMQDv/ff92P21/ZkAGwLG/wb/zQDHAXYAff4Z/mj/PAHLAUsBcgCK/8EAhwKkAdL/wv91AYcBcgCR/33+9P8TAoYCeQEi/nf8jP0z/8YBZQL3/xj/1P4w/ln/nAFxAYL/AgDGAHX/zf9RAncCqwAUAeEByAGCAoMBUQBIAID/+wD+AlsBJwCTAIUAmwDEAA8BVgC5//QBvQLH/4v+x/7v/i0A5P/h/6QBVgCe/kn/MQAoAicClf7B/eX+n/6n/+MAKQHbANn/iv/P/hb+Sf8tAU8CPgEJ/6r+cP9t/wH/TwDaAWYBsACRAEsB+QCT/58AJwFyAHYBugEdAvsByv+E/1gA7wDKAZUCMwJVAPP/wACkAKoArgBcADYBDAHI/2oAigDQ/w==";
m.prototype.enabled=function(){return this.elements.length>0};m.prototype.click=function(){!this.mute&&this.enabled()&&this.elements[3].play()};m.prototype.roll=function(a,c){!this.mute&&this.enabled()&&f.each(this.elements,function(b,e){if(b<c)setTimeout(function(){e.play()},b>0?Math.floor(Math.random()*70)*b+a:a)})};q.prototype.set=function(a){var c=this.step<a;if(c){this.step=a;f.each(this.steps,function(b){this.className=a!=b?"hide":""})}return c};n.prototype.roll=function(a){var c=0,b=this;f.each(this.dices,
function(e){var d=this.canvas.className.replace(" top","");if(b.logic.holder.indexOf(e)<0){d+=" hold";c++}this.canvas.className=d});setTimeout(function(){a.call(b)},500);this.sound.roll(500,c)};n.prototype.paint=function(a){var c=this.logic;f.each(this.dices,function(b){var e=c.dices[b];b=c.holder.indexOf(b);this.paint(e.value,b<0?e.angle:0);this.canvas.className="dice "+(b>=0?"h"+b:"")+" x"+e.x+" y"+e.y});f.each(this.players,function(b){var e=c.players[b],d=false;if(a&&c.active==b)d=c.score();f.each(f(this,
"dd"),function(g){this.className=d&&e.score[g]<0?"set":"";this.innerHTML=e.score[g]<0?d?d[g]:"":e.score[g]});f(this,"dt",1).innerHTML=e.total()});f("roll").className=c.rolls<3&&!c.player().ai?"button":"button disabled"};n.prototype.play=function(){var a=this.logic;if(a.player().ai){var c=this;a.play(function(b){c.roll(function(){c.paint();if(typeof b=="object")c.run(b,c.play);else{a.set(b);setTimeout(function(){c.play()},1E3)}})})}else{this.paint();f.each(this.dices,function(){this.canvas.className+=
" hold"});a.finished()&&this.finish()}};n.prototype.finish=function(){var a=this.logic,c=a.winner(),b=a.players[0];b.save(c==0);f("popup","h2",0).innerHTML=c>=0?a.players[c].name+" wins!":"Draw!";f("popup","span",0).innerHTML=b.stat.wins;f("popup","span",1).innerHTML=b.stat.played;f("popup","span",2).innerHTML=b.stat.poker;f("popup","span",3).innerHTML=b.stat.best;f("popup").className="";f("roll").className+=" disabled";c==0&&this.flakes.start();this.flakes.show()};n.prototype.run=function(a,c){var b=
this;setTimeout(function(){var e=true,d=0;do if(b.logic.holder.indexOf(d)<0!=a.indexOf(d)<0){b.logic.hold(d);b.paint();b.dices[d].canvas.className+=" top";b.sound.click();e=false}while(e&&++d<5);e?c.call(b):b.run(a,c)},500)};window.onload=function(){App=new n;setTimeout(function(){window.scrollTo(1,0)},1E3)}})();